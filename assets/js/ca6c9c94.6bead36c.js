(self.webpackChunk_ithil_protocol_docs=self.webpackChunk_ithil_protocol_docs||[]).push([[507],{6937:function(e,t,i){"use strict";i.r(t),i.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return d},toc:function(){return p},default:function(){return h}});var o=i(7462),n=i(3366),r=(i(7294),i(3905)),a=i(3456),s=["components"],l={sidebar_position:4},c="Strategies",d={unversionedId:"protocol-overview/strategies",id:"protocol-overview/strategies",title:"Strategies",description:"Ready-made and risk-diversified investments using DeFi legos",source:"@site/docs/protocol-overview/strategies.md",sourceDirName:"protocol-overview",slug:"/protocol-overview/strategies",permalink:"/docs/protocol-overview/strategies",editUrl:"https://github.com/ithil-protocol/docs/docs/protocol-overview/strategies.md",tags:[],version:"current",lastUpdatedAt:1657638698,formattedLastUpdatedAt:"7/12/2022",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Borrowing",permalink:"/docs/protocol-overview/borrowing"},next:{title:"Liquidations",permalink:"/docs/protocol-overview/liquidations"}},p=[{value:"Position tokenisation",id:"position-tokenisation",children:[],level:2}],u={toc:p};function h(e){var t=e.components,i=(0,n.Z)(e,s);return(0,r.kt)("wrapper",(0,o.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"strategies"},"Strategies"),(0,r.kt)("p",null,"Ready-made and risk-diversified investments using DeFi legos"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"The strategies which can be implemented are in principle very general: Ithil's DAO can implement a new strategy at any time via a governance vote. Once whitelisted, the strategy contract is enabled to take loans from the Vault."),(0,r.kt)(a.Mermaid,{config:{},chart:"graph TD\n    A(New Strategy) --\x3e C{DAO Vote}\n    C --\x3e|Yes| D[Whitelisted]\n    C --\x3e|No| E[Discarded]",mdxType:"Mermaid"}),(0,r.kt)("p",null,"In order to prevent the governance to take faulty decisions which would put the protocol's liquidity at risk, all strategies must inherit from a common ",(0,r.kt)("strong",{parentName:"p"},"base strategy"),", an ",(0,r.kt)("em",{parentName:"p"},"abstract")," contract which implements the borrow and repay logic agnostically from the particular investment logic. Such measure has the double advantage of setting a precise standard to assure the vault's liquidity is protected and to make the development of new strategies much simpler and faster."),(0,r.kt)(a.Mermaid,{chart:"stateDiagram-v2\n[*] --\x3e DepositMargin\nDepositMargin --\x3e OpenPosition\nOpenPosition --\x3e ClosePosition\nOpenPosition --\x3e Liquidation\nLiquidation --\x3e [*]\nClosePosition --\x3e TakeProfit\nTakeProfit --\x3e [*]",mdxType:"Mermaid"}),(0,r.kt)("p",null,"Besides calling the relevant external contracts to perform the particular investment, the specific strategies must also implement a ",(0,r.kt)("strong",{parentName:"p"},"quoter"),", a view function which gives at every time the value of the obtained assets with respect to the initial token used to obtain them. This is important for liquidations and for margins given in the asset token."),(0,r.kt)("p",null,"Since the liquidity transferred from the vault and locked in the form of assets in the strategies belongs to the LPs, every time a loan is taken the vault computes the ",(0,r.kt)("strong",{parentName:"p"},"interest rate")," at which the liquidity can be borrowed for that particular investment. The calculation of the interest rate takes into account the riskiness of the investment, the amount of liquidity taken and the amount of margin posted by the user."),(0,r.kt)("p",null,"We give here two examples of simple strategies, while ideally ",(0,r.kt)("strong",{parentName:"p"},"the strategies that can be implemented are potentially infinite and can vary in complexity and risk, covering pure DeFi to more structured TradFi-like ones"),"."),(0,r.kt)("h2",{id:"position-tokenisation"},"Position tokenisation"),(0,r.kt)("p",null,"All positions are represented as ERC721 NFTs that can be transferred, sold and purchased on secondary markets like OpenSea. Similarly to UniswapV3 NFTs, Ithil's position NFT when purchased give the new owner total control over the underlying margin and on the position itself, that can be instantly be edited or closed after the transfer transaction is settled."))}h.isMDXComponent=!0},1748:function(e,t,i){var o={"./locale":9234,"./locale.js":9234};function n(e){var t=r(e);return i(t)}function r(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=1748}}]);