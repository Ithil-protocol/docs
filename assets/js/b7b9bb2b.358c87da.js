"use strict";(self.webpackChunk_ithil_protocol_docs=self.webpackChunk_ithil_protocol_docs||[]).push([[34],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return h}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(r),h=a,d=m["".concat(l,".").concat(h)]||m[h]||u[h]||i;return r?n.createElement(d,o(o({ref:t},p),{},{components:r})):n.createElement(d,o({ref:t},p))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},2223:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),o=["components"],s={sidebar_position:3},l="Leveraged investments",c={unversionedId:"protocol-overview/leveraged-investmets",id:"protocol-overview/leveraged-investmets",title:"Leveraged investments",description:"Multiplying the capital at your disposal",source:"@site/docs/protocol-overview/leveraged-investmets.md",sourceDirName:"protocol-overview",slug:"/protocol-overview/leveraged-investmets",permalink:"/docs/protocol-overview/leveraged-investmets",editUrl:"https://github.com/ithil-protocol/docs/docs/protocol-overview/leveraged-investmets.md",tags:[],version:"current",lastUpdatedAt:1652085196,formattedLastUpdatedAt:"5/9/2022",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Lending",permalink:"/docs/protocol-overview/lending"},next:{title:"Strategies",permalink:"/docs/protocol-overview/strategies"}},p=[],u={toc:p};function m(e){var t=e.components,s=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"leveraged-investments"},"Leveraged investments"),(0,i.kt)("p",null,"Multiplying the capital at your disposal"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"With Ithil, anyone can profit from a wide variety of DeFi market scenarios by performing leveraged investments; the seamless workflow allows the trader to enter into any investment strategy with few clicks, letting Ithil deal with all the complex procedures necessary to implement a particular strategy.\nA ",(0,i.kt)("em",{parentName:"p"},"true")," leverage is made possible by an internal system of uncollateralised loans, in which the funds are borrowed from Ithil's liquidity vault to be invested and the result of the particular investment is ",(0,i.kt)("em",{parentName:"p"},"locked")," in the strategy contract.\nIn order for a user to be able to perform a leveraged investment via a selected strategy, there must be some ",(0,i.kt)("em",{parentName:"p"},"margin")," posted into the strategy smart contract; this is necessary to cover for potential losses the vault could incur in the case of an unfavorable market movement."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Borrowing process",src:r(7905).Z,width:"2399",height:"1135"})),(0,i.kt)("p",null,"The opening of a position is done in three steps:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The user posts some margin into the strategy and sets the desired investment parameters"),(0,i.kt)("li",{parentName:"ul"},"The strategy borrows funds from the vault, if the desired investment is higher than the margin posted"),(0,i.kt)("li",{parentName:"ul"},"The strategy performs all the internal and external calls to get ",(0,i.kt)("em",{parentName:"li"},"assets")," which are then locked into the strategy itself.")),(0,i.kt)("p",null,"Since the amount invested might be higher than the user's initial capital, the investment can be ",(0,i.kt)("em",{parentName:"p"},"leveraged"),": in this way, the assets obtained will have a much higher value than if the user directly buys them from an external protocol."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Repayment process",src:r(6766).Z,width:"2397",height:"1155"})),(0,i.kt)("p",null,"The closure of a position is likewise done in three steps:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The assets are exchanged internally or through an external DeFi protocol, to obtain the initial token used for the investment"),(0,i.kt)("li",{parentName:"ul"},"The strategy repays the loan taken from the vault, plus interest rates and fees"),(0,i.kt)("li",{parentName:"ul"},"The remaining part of the payoff is given back to the trader.")),(0,i.kt)("p",null,"The strategies which can be implemented are in principle very general: Ithil's community can implement a new strategy at any time and the governance can approve it to use the vault's funds."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Strategy approval process",src:r(6962).Z,width:"1137",height:"374"})),(0,i.kt)("p",null,"In order to prevent the governance to take faulty decisions which would put the protocol's liquidity at risk, all strategies must inherit from a common ",(0,i.kt)("strong",{parentName:"p"},"base strategy"),", an ",(0,i.kt)("em",{parentName:"p"},"abstract")," contract which implements the borrow and repay logic agnostically from the particular investment logic. Such measure has the double advantage of setting a precise standard to assure the vault's liquidity is protected and to make the development of new strategies much simpler and faster."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Base strategy",src:r(7465).Z,width:"1394",height:"720"})),(0,i.kt)("p",null,"Besides calling the relevant external contracts to perform the particular investment, the specific strategies must also implement a ",(0,i.kt)("strong",{parentName:"p"},"quoter"),", a view function which gives at every time the value of the obtained assets with respect to the initial token used to obtain them. This is important for liquidations and for margins given in the asset token."),(0,i.kt)("p",null,"Since the liquidity transferred from the vault and locked in the form of assets in the strategies belongs to the LPs, every time a loan is taken the vault computes the ",(0,i.kt)("strong",{parentName:"p"},"interest rate")," at which the liquidity can be borrowed for that particular investment. The calculation of the interest rate takes into account the riskiness of the investment, the amount of liquidity taken and the amount of margin posted by the user."),(0,i.kt)("p",null,"We give here two examples of simple strategies, while ideally ",(0,i.kt)("strong",{parentName:"p"},"the strategies that can be implemented are potentially infinite and can vary in complexity and risk, covering pure DeFi to more structured TradFi-like ones"),"."))}m.isMDXComponent=!0},7905:function(e,t,r){t.Z=r.p+"assets/images/borrow-process-c1e0b4532e5ab4c54a322c36c9a67d2d.png"},6766:function(e,t,r){t.Z=r.p+"assets/images/repay-process-12cf996431993326bf552ba2602ceae4.png"},7465:function(e,t,r){t.Z=r.p+"assets/images/strategies-8ef0ed5c35acf244113b6aa008337f9d.png"},6962:function(e,t,r){t.Z=r.p+"assets/images/strategy-approval-process-713e46df9e458062a3994488faad4999.png"}}]);